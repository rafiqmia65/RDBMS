# Column Constraints & Multiple Constraints in SQL & PostgreSQL

This document explains **Column Constraints**, how to apply **multiple constraints**, and how constraints behave during **INSERT operations**. It is written in a professional format suitable for `README.md`, GitHub documentation, and interview preparation.

---

## 1. What Are Column Constraints?

Column constraints are **rules applied to table columns** to enforce data integrity, accuracy, and consistency in a database.

They control:

- What type of data can be stored
- Whether a column can be empty
- Whether values must be unique
- Relationships between tables

---

## 2. Common Column Constraints in SQL

| Constraint  | Description                              |
| ----------- | ---------------------------------------- |
| NOT NULL    | Prevents NULL values                     |
| UNIQUE      | Ensures all values are unique            |
| PRIMARY KEY | Uniquely identifies each row             |
| FOREIGN KEY | Enforces relationship with another table |
| CHECK       | Validates values using a condition       |
| DEFAULT     | Sets a default value                     |

---

## 3. Column Constraints in PostgreSQL

PostgreSQL fully supports all standard SQL constraints and provides strong enforcement at the database level.

---

### 3.1 NOT NULL Constraint

Ensures a column always has a value.

```sql
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR(50) NOT NULL
);
```

---

### 3.2 UNIQUE Constraint

Prevents duplicate values in a column.

```sql
CREATE TABLE users (
  email VARCHAR(100) UNIQUE
);
```

---

### 3.3 PRIMARY KEY Constraint

- Combination of `NOT NULL` + `UNIQUE`
- Only one primary key per table

```sql
CREATE TABLE products (
  product_id SERIAL PRIMARY KEY
);
```

---

### 3.4 FOREIGN KEY Constraint

Ensures referential integrity between tables.

```sql
CREATE TABLE orders (
  id SERIAL PRIMARY KEY,
  user_id INTEGER REFERENCES users(id)
);
```

---

### 3.5 CHECK Constraint

Validates data based on a condition.

```sql
CREATE TABLE employees (
  age INTEGER CHECK (age >= 18)
);
```

---

### 3.6 DEFAULT Constraint

Assigns a default value when none is provided.

```sql
CREATE TABLE tasks (
  status VARCHAR(20) DEFAULT 'pending'
);
```

---

## 4. Using Multiple Constraints on a Column

Multiple constraints can be applied to **a single column** to enforce stronger validation.

---

### 4.1 Example: Multiple Constraints

```sql
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  username VARCHAR(30) NOT NULL UNIQUE,
  email VARCHAR(100) NOT NULL UNIQUE,
  age INTEGER CHECK (age >= 18),
  is_active BOOLEAN DEFAULT true
);
```

Explanation:

- `NOT NULL` → value required
- `UNIQUE` → no duplicates
- `CHECK` → value validation
- `DEFAULT` → auto value assignment

---

## 5. INSERT Operations with Constraints

Constraints are automatically checked during `INSERT` operations.

---

### 5.1 Valid INSERT Example

```sql
INSERT INTO users (username, email, age)
VALUES ('rafiq', 'rafiq@mail.com', 25);
```

✔ Insert succeeds because all constraints are satisfied.

---

### 5.2 INSERT Violating NOT NULL

```sql
INSERT INTO users (email)
VALUES ('test@mail.com');
```

❌ Error: `null value in column "username" violates not-null constraint`

---

### 5.3 INSERT Violating UNIQUE

```sql
INSERT INTO users (username, email)
VALUES ('rafiq', 'rafiq@mail.com');
```

❌ Error: `duplicate key value violates unique constraint`

---

### 5.4 INSERT Using DEFAULT Values

```sql
INSERT INTO users (username, email, age)
VALUES ('john', 'john@mail.com', 30);
```

✔ `is_active` is automatically set to `true`.

---

## 6. Table-Level Constraints (Multiple Columns)

Constraints can also be applied at the **table level**.

```sql
CREATE TABLE enrollments (
  student_id INTEGER,
  course_id INTEGER,
  UNIQUE (student_id, course_id)
);
```

This prevents duplicate enrollments for the same student and course.

---

## 7. Best Practices

- Always use **PRIMARY KEY** for tables
- Prefer database-level constraints over application-level checks
- Combine constraints for stronger validation
- Use meaningful constraint names in production systems

---

## 8. Summary

- Column constraints enforce data integrity
- Multiple constraints can be applied to a single column
- INSERT operations fail if constraints are violated
- PostgreSQL provides strong and reliable constraint enforcement

---

**Author:** Md Rafiq Mia
**Use Case:** SQL & PostgreSQL Learning / GitHub Documentation
