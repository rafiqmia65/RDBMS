# ğŸ“˜ Functions Explained (SQL)

## ğŸ”¹ What is a Function in SQL?

A **Function** in SQL is a built-in operation that **takes input values**, processes them, and **returns a single result**.

ğŸ“Œ **Definition:**

> SQL Functions are used to perform calculations, manipulate data, and return a value.

---

## ğŸ”¹ Why Use SQL Functions?

SQL Functions are used to:

- Perform calculations on data
- Manipulate strings and dates
- Summarize large datasets
- Improve query efficiency

âœ… Helps in:

- Reducing complex logic
- Writing cleaner queries
- Faster data processing

---

## ğŸ”¹ Types of SQL Functions

SQL Functions are mainly divided into **two categories**:

1ï¸âƒ£ **Aggregate Functions**
2ï¸âƒ£ **Scalar Functions**

---

## ğŸ”¹ 1ï¸âƒ£ Aggregate Functions

Aggregate functions operate on **multiple rows** and return **a single value**.

### Common Aggregate Functions

| Function  | Description           |
| --------- | --------------------- |
| `COUNT()` | Counts number of rows |
| `SUM()`   | Returns total value   |
| `AVG()`   | Returns average value |
| `MIN()`   | Returns minimum value |
| `MAX()`   | Returns maximum value |

---

### ğŸ”¸ COUNT()

```sql
SELECT COUNT(*) AS total_employees
FROM employees;
```

ğŸ”¹ Counts total number of employees.

---

### ğŸ”¸ SUM()

```sql
SELECT SUM(salary) AS total_salary
FROM employees;
```

ğŸ”¹ Calculates total salary of all employees.

---

### ğŸ”¸ AVG()

```sql
SELECT AVG(salary) AS average_salary
FROM employees;
```

ğŸ”¹ Returns average salary.

---

### ğŸ”¸ MIN() & MAX()

```sql
SELECT MIN(salary) AS lowest_salary,
       MAX(salary) AS highest_salary
FROM employees;
```

ğŸ”¹ Finds lowest and highest salary.

---

## ğŸ”¹ Aggregate Functions with GROUP BY

Used to apply functions **group-wise**.

```sql
SELECT department_id, AVG(salary) AS avg_salary
FROM employees
GROUP BY department_id;
```

ğŸ”¹ Calculates average salary per department.

---

## ğŸ”¹ Aggregate Functions with HAVING

Used to filter grouped data.

```sql
SELECT department_id, COUNT(*) AS total_employees
FROM employees
GROUP BY department_id
HAVING COUNT(*) > 5;
```

ğŸ”¹ Departments having more than 5 employees.

---

## ğŸ”¹ 2ï¸âƒ£ Scalar Functions

Scalar functions operate on **each row** and return **one value per row**.

---

## ğŸ”¹ String Functions

| Function      | Description             |
| ------------- | ----------------------- |
| `UPPER()`     | Converts to uppercase   |
| `LOWER()`     | Converts to lowercase   |
| `LENGTH()`    | Returns string length   |
| `CONCAT()`    | Combines strings        |
| `SUBSTRING()` | Extracts part of string |
| `TRIM()`      | Removes spaces          |

### Example:

```sql
SELECT UPPER(name), LENGTH(name)
FROM employees;
```

ğŸ”¹ Converts names to uppercase and shows length.

---

## ğŸ”¹ Numeric Functions

| Function    | Description    |
| ----------- | -------------- |
| `ROUND()`   | Rounds numbers |
| `CEILING()` | Rounds up      |
| `FLOOR()`   | Rounds down    |
| `ABS()`     | Absolute value |
| `MOD()`     | Remainder      |

### Example:

```sql
SELECT ROUND(price, 2)
FROM products;
```

ğŸ”¹ Rounds price to 2 decimal places.

---

## ğŸ”¹ Date & Time Functions

| Function       | Description              |
| -------------- | ------------------------ |
| `NOW()`        | Current date & time      |
| `CURRENT_DATE` | Current date             |
| `CURRENT_TIME` | Current time             |
| `EXTRACT()`    | Extract part of date     |
| `DATE_DIFF()`  | Difference between dates |

### Example:

```sql
SELECT CURRENT_DATE;
```

ğŸ”¹ Returns todayâ€™s date.

---

## ğŸ”¹ Using Functions in WHERE Clause

```sql
SELECT *
FROM employees
WHERE YEAR(join_date) = 2024;
```

ğŸ”¹ Employees who joined in 2024.

---

## ğŸ”¹ Using Functions in SELECT Clause

```sql
SELECT name, UPPER(email) AS email_upper
FROM users;
```

ğŸ”¹ Formats email output.

---

## ğŸ”¹ Functions vs Stored Procedures

| Feature      | Functions           | Stored Procedures |
| ------------ | ------------------- | ----------------- |
| Return Value | Must return a value | Optional          |
| Usage        | Inside queries      | Called separately |
| SELECT usage | Allowed             | Not allowed       |

---

## ğŸ”¹ Best Practices

âœ… Use functions to simplify logic
âœ… Avoid using functions on indexed columns in WHERE
âœ… Use appropriate function types
âœ… Combine with GROUP BY carefully

---

## ğŸ”¹ Summary

- SQL Functions process data and return values
- Two main types: **Aggregate & Scalar**
- Used for calculations, formatting, and filtering
- Essential for writing efficient SQL queries

---

**Author:** Md Rafiq Mia
**Use Case:** SQL & PostgreSQL Learning / GitHub Documentation
