# ğŸ“Œ Data Anomalies in DBMS

Data anomalies occur when a database is **not normalized** and stores too much **redundant or repeated data**, especially in a single large table.
These issues appear during **INSERT**, **UPDATE**, or **DELETE** operations and make the database inconsistent.

---

# ğŸ“˜ Example Table (Unnormalized Design)

Consider a table where **Student + Course + Instructor** information is stored together:

| Student_ID | Student_Name | Course  | Instructor | Instructor_Phone |
| ---------- | ------------ | ------- | ---------- | ---------------- |
| 1          | Rafiq        | DBMS    | Mr. Karim  | 01711-111222     |
| 2          | Zihan        | DBMS    | Mr. Karim  | 01711-111222     |
| 3          | Rafiq        | Web Dev | Ms. Sara   | 01822-222333     |

This design will produce anomalies.

---

# ğŸŸ¦ 1ï¸âƒ£ Insertion Anomaly (With Example)

## âš  What is it?

You **cannot insert** some data because other required data is missing.

## ğŸ” Example Scenario

You want to insert a **new course**, "Networking", with instructor info **but no student is enrolled yet**.

But in this table, you **must** insert a student to add the course.

### âŒ Problematic

You cannot insert:

```
Course: Networking
Instructor: Mr. Imran
Instructor_Phone: 01700-000999
```

â€¦because `Student_ID` and `Student_Name` are mandatory fields.

### ğŸ§¨ Why itâ€™s bad?

- You cannot store valid data independently.
- You are forced to add fake or incomplete data.

---

# ğŸŸ¦ 2ï¸âƒ£ Update Anomaly (With Example)

## âš  What is it?

Same data exists in multiple rows. If you update only one row â†’ **inconsistent database**.

## ğŸ” Example Scenario

Instructor **Mr. Karim** changes his phone number.

Old phone in table:

| Student | Course | Instructor | Phone        |
| ------- | ------ | ---------- | ------------ |
| Rafiq   | DBMS   | Mr. Karim  | 01711-111222 |
| Zihan   | DBMS   | Mr. Karim  | 01711-111222 |

Now update phone to: **01999-444555**

### âŒ Problem

You must update **both rows**.

If you update only the first row:

| Student | Course | Instructor | Phone        |
| ------- | ------ | ---------- | ------------ |
| Rafiq   | DBMS   | Mr. Karim  | 01999-444555 |
| Zihan   | DBMS   | Mr. Karim  | 01711-111222 |

Now the database is **inconsistent**.

### ğŸ§¨ Why itâ€™s bad?

- Repeated data causes maintenance headaches
- Partial updates cause incorrect results

---

# ğŸŸ¦ 3ï¸âƒ£ Deletion Anomaly (With Example)

## âš  What is it?

Deleting one record unintentionally removes **important related data**.

## ğŸ” Example Scenario

Suppose Rafiq is the **only student** enrolled in "Web Dev", taught by "Ms. Sara".

Row:

| Student_ID | Course  | Instructor | Phone        |
| ---------- | ------- | ---------- | ------------ |
| 3          | Web Dev | Ms. Sara   | 01822-222333 |

If Rafiq drops the course â†’ DELETE this row.

### âŒ Problem

When you delete the row, you also delete:

- Course information
- Instructor information
- Phone number

Even though the course and instructor still exist!

### ğŸ§¨ Why itâ€™s bad?

- Causes accidental loss of valid data
- Deletes entities that should remain

---

# ğŸ§  Why Do Anomalies Occur?

- Storing unrelated data in the same table
- Too many repeating values
- No normalization
- Poor schema design
- Lack of separate tables for Student, Course, Instructor

---

# ğŸ›  How to Fix These Anomalies?

Apply **normalization**:

### âœ” 1NF â†’ Remove repeating groups

### âœ” 2NF â†’ Remove partial dependencies

### âœ” 3NF â†’ Remove transitive dependencies

### âœ” BCNF â†’ Stronger version of 3NF

### After Normalization (Better Design):

**Students Table**
(Student_ID, Student_Name)

**Courses Table**
(Course_ID, Course_Name, Instructor_ID)

**Instructors Table**
(Instructor_ID, Instructor_Name, Phone)

**Enrollments Table**
(Student_ID, Course_ID)

This structure eliminates all anomalies.

---

# ğŸ Summary Table

| Anomaly Type  | Meaning                               | Example Issue                                       |
| ------------- | ------------------------------------- | --------------------------------------------------- |
| **Insertion** | Cannot insert data without other data | Cannot add new course unless a student enrolls      |
| **Update**    | Must update data in multiple places   | Instructor phone appears in multiple rows           |
| **Deletion**  | Deleting a row removes valuable data  | Removing a student removes course + instructor info |
